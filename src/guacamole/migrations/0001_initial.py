# Generated by Django 3.0.3 on 2020-04-29 20:52

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import guacamole.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("labs", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="GuacamoleConnection",
            fields=[
                ("connection_id", models.AutoField(primary_key=True, serialize=False)),
                (
                    "connection_name",
                    models.CharField(
                        default=guacamole.models.gen_connection_name, max_length=128
                    ),
                ),
                ("protocol", models.CharField(max_length=32)),
                ("proxy_port", models.IntegerField(blank=True, null=True)),
                (
                    "proxy_hostname",
                    models.CharField(blank=True, max_length=512, null=True),
                ),
                (
                    "proxy_encryption_method",
                    models.CharField(blank=True, max_length=4, null=True),
                ),
                ("max_connections", models.IntegerField(blank=True, null=True)),
                (
                    "max_connections_per_user",
                    models.IntegerField(blank=True, null=True),
                ),
                ("connection_weight", models.IntegerField(blank=True, null=True)),
                ("failover_only", models.IntegerField(default=0)),
                (
                    "lab",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="labs.LabEnvironment",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionGroup",
            fields=[
                (
                    "connection_group_id",
                    models.AutoField(primary_key=True, serialize=False),
                ),
                ("connection_group_name", models.CharField(max_length=128)),
                ("type", models.CharField(max_length=14)),
                ("max_connections", models.IntegerField(blank=True, null=True)),
                (
                    "max_connections_per_user",
                    models.IntegerField(blank=True, null=True),
                ),
                ("enable_session_affinity", models.IntegerField()),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnectionGroup",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection_group", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleEntity",
            fields=[
                ("entity_id", models.AutoField(primary_key=True, serialize=False)),
                ("name", models.CharField(max_length=128)),
                ("type", models.CharField(max_length=10)),
            ],
            options={
                "db_table": "guacamole_entity",
                "managed": True,
                "unique_together": {("type", "name")},
            },
        ),
        migrations.CreateModel(
            name="GuacamoleSharingProfile",
            fields=[
                (
                    "sharing_profile_id",
                    models.AutoField(primary_key=True, serialize=False),
                ),
                ("sharing_profile_name", models.CharField(max_length=128)),
                (
                    "primary_connection",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnection",
                    ),
                ),
            ],
            options={"db_table": "guacamole_sharing_profile", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUser",
            fields=[
                ("user_id", models.AutoField(primary_key=True, serialize=False)),
                ("password_hash", models.BinaryField(max_length=32)),
                (
                    "password_salt",
                    models.BinaryField(blank=True, max_length=32, null=True),
                ),
                (
                    "password_date",
                    models.DateTimeField(default=django.utils.timezone.now),
                ),
                ("disabled", models.IntegerField(default=0)),
                ("expired", models.IntegerField(default=0)),
                ("access_window_start", models.TimeField(blank=True, null=True)),
                ("access_window_end", models.TimeField(blank=True, null=True)),
                ("valid_from", models.DateField(blank=True, null=True)),
                ("valid_until", models.DateField(blank=True, null=True)),
                ("timezone", models.CharField(blank=True, max_length=64, null=True)),
                ("full_name", models.CharField(blank=True, max_length=256, null=True)),
                (
                    "email_address",
                    models.CharField(blank=True, max_length=256, null=True),
                ),
                (
                    "organization",
                    models.CharField(blank=True, max_length=256, null=True),
                ),
                (
                    "organizational_role",
                    models.CharField(blank=True, max_length=256, null=True),
                ),
                (
                    "entity",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
            ],
            options={"db_table": "guacamole_user", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserGroup",
            fields=[
                ("user_group_id", models.AutoField(primary_key=True, serialize=False)),
                ("disabled", models.IntegerField()),
                (
                    "entity",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
            ],
            options={"db_table": "guacamole_user_group", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionGroupPermission",
            fields=[
                (
                    "entity",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
                ("permission", models.CharField(max_length=10)),
            ],
            options={
                "db_table": "guacamole_connection_group_permission",
                "managed": True,
            },
        ),
        migrations.CreateModel(
            name="GuacamoleSharingProfileAttribute",
            fields=[
                (
                    "sharing_profile",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleSharingProfile",
                    ),
                ),
                ("attribute_name", models.CharField(max_length=128)),
                ("attribute_value", models.CharField(max_length=4096)),
            ],
            options={
                "db_table": "guacamole_sharing_profile_attribute",
                "managed": True,
            },
        ),
        migrations.CreateModel(
            name="GuacamoleSharingProfileParameter",
            fields=[
                (
                    "sharing_profile",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleSharingProfile",
                    ),
                ),
                ("parameter_name", models.CharField(max_length=128)),
                ("parameter_value", models.CharField(max_length=4096)),
            ],
            options={
                "db_table": "guacamole_sharing_profile_parameter",
                "managed": True,
            },
        ),
        migrations.CreateModel(
            name="GuacamoleSharingProfilePermission",
            fields=[
                (
                    "entity",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
                ("permission", models.CharField(max_length=10)),
            ],
            options={
                "db_table": "guacamole_sharing_profile_permission",
                "managed": True,
            },
        ),
        migrations.CreateModel(
            name="GuacamoleUserAttribute",
            fields=[
                (
                    "user",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleUser",
                    ),
                ),
                ("attribute_name", models.CharField(max_length=128)),
                ("attribute_value", models.CharField(max_length=4096)),
            ],
            options={"db_table": "guacamole_user_attribute", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserGroupAttribute",
            fields=[
                (
                    "user_group",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleUserGroup",
                    ),
                ),
                ("attribute_name", models.CharField(max_length=128)),
                ("attribute_value", models.CharField(max_length=4096)),
            ],
            options={"db_table": "guacamole_user_group_attribute", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserGroupMember",
            fields=[
                (
                    "user_group",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleUserGroup",
                    ),
                ),
            ],
            options={"db_table": "guacamole_user_group_member", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserGroupPermission",
            fields=[
                (
                    "entity",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        primary_key=True,
                        serialize=False,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
                ("permission", models.CharField(max_length=10)),
            ],
            options={"db_table": "guacamole_user_group_permission", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserPermission",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("entity_id", models.IntegerField()),
                ("affected_user_id", models.IntegerField()),
                ("permission", models.CharField(max_length=10)),
            ],
            options={
                "db_table": "guacamole_user_permission",
                "managed": True,
                "unique_together": {("entity_id", "affected_user_id", "permission")},
            },
        ),
        migrations.CreateModel(
            name="GuacamoleUserPasswordHistory",
            fields=[
                (
                    "password_history_id",
                    models.AutoField(primary_key=True, serialize=False),
                ),
                ("password_hash", models.CharField(max_length=32)),
                (
                    "password_salt",
                    models.CharField(blank=True, max_length=32, null=True),
                ),
                ("password_date", models.DateTimeField()),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleUser",
                    ),
                ),
            ],
            options={"db_table": "guacamole_user_password_history", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleUserHistory",
            fields=[
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("username", models.CharField(max_length=128)),
                (
                    "remote_host",
                    models.CharField(blank=True, max_length=256, null=True),
                ),
                ("start_date", models.DateTimeField()),
                ("end_date", models.DateTimeField(blank=True, null=True)),
                (
                    "user",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleUser",
                    ),
                ),
            ],
            options={"db_table": "guacamole_user_history", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleSystemPermission",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("entity_id", models.IntegerField()),
                ("permission", models.CharField(max_length=23)),
            ],
            options={
                "db_table": "guacamole_system_permission",
                "managed": True,
                "unique_together": {("entity_id", "permission")},
            },
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionPermission",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("permission", models.CharField(max_length=10)),
                (
                    "connection",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnection",
                    ),
                ),
                (
                    "entity",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleEntity",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection_permission", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionParameter",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("parameter_name", models.CharField(max_length=128)),
                ("parameter_value", models.CharField(max_length=4096)),
                (
                    "connection",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnection",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection_parameter", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionHistory",
            fields=[
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("username", models.CharField(max_length=128)),
                (
                    "remote_host",
                    models.CharField(blank=True, max_length=256, null=True),
                ),
                ("connection_name", models.CharField(max_length=128)),
                (
                    "sharing_profile_name",
                    models.CharField(blank=True, max_length=128, null=True),
                ),
                ("start_date", models.DateTimeField()),
                ("end_date", models.DateTimeField(blank=True, null=True)),
                (
                    "connection",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnection",
                    ),
                ),
                (
                    "sharing_profile",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleSharingProfile",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleUser",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection_history", "managed": True,},
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionGroupAttribute",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("attribute_name", models.CharField(max_length=128)),
                ("attribute_value", models.CharField(max_length=4096)),
                (
                    "connection_group",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnectionGroup",
                    ),
                ),
            ],
            options={
                "db_table": "guacamole_connection_group_attribute",
                "managed": True,
            },
        ),
        migrations.CreateModel(
            name="GuacamoleConnectionAttribute",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("attribute_name", models.CharField(max_length=128)),
                ("attribute_value", models.CharField(max_length=4096)),
                (
                    "connection",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="guacamole.GuacamoleConnection",
                    ),
                ),
            ],
            options={"db_table": "guacamole_connection_attribute", "managed": True,},
        ),
        migrations.AddField(
            model_name="guacamoleconnection",
            name="parent",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="guacamole.GuacamoleConnectionGroup",
            ),
        ),
    ]
